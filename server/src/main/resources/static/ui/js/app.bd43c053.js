(function(e){function t(t){for(var a,o,r=t[0],l=t[1],d=t[2],p=0,u=[];p<r.length;p++)o=r[p],i[o]&&u.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(u.length)u.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},i={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ui/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("64a9"),i=s.n(a);i.a},"3fab":function(e,t,s){"use strict";s.r(t),s.d(t,"msg",function(){return a});var a={languageName:"English",upload:{dragFile:{1:"Drag files here, or ",2:"click to add"},tip:{normal:"Can upload {size} files",anySize:"Can upload any size files"},expire:"Expires after",enablePassword:"Enable password",uploadButton:"Upload",wrongToken:"Token authorization failed"},uploaded:{downloadLink:"Download link：",copyLinkButton:"Copy",tip:"Copy link and open in browser.",backToHomeLink:"Upload again"},message:{uploading:"Uploading. Will generate download link after success.",uploadSuccess:"Upload success",uploadFail:"Upload failed. {errMsg}",fileTooBig:"File is too big, cannot exceed {size}",linkCopied:"Link copied"},expireTip:{normal:"Files will expire after {ttl}",neverExpire:"Files will never expire."},durationUnit:{day:"d ",hour:"h ",minute:"m ",D:" Day(s)",H:" Hour(s)",M:" Minute(s)"},download:{title:"File (click file name to download)",needPassword:"Files are encrypted, please input password",unlockButton:"Unlock",gotoUploadLink:"Use SendFile to share files",fileExpired:"Files are expired",wrongPassword:"Wront password"},files:{copyLink:"Copy link",copyPassword:"Copy password",deleteFile:"Delete files",linkCopied:"Link copied",passwordCopied:"Password copied",confirmDelete:"You are going to delete these files. Are you sure?",okButton:"OK",cancelButton:"Cancel"}}},"41f3":function(e,t,s){"use strict";var a=s("bd16"),i=s.n(a);i.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("el-row",{staticStyle:{"margin-bottom":"30px"}},[s("div",[s("i",{staticClass:"el-icon-s-promotion",staticStyle:{"margin-right":"20px","font-size":"60px",color:"#409EFF","vertical-align":"middle"}}),s("span",{staticStyle:{"font-size":"40px","font-weight":"bold",color:"#606266","vertical-align":"middle"}},[e._v("Send File")])]),s("div",{staticStyle:{position:"absolute",right:"100px",bottom:"0px"}},[s("div",[s("el-dropdown",{on:{command:e.changeLang}},[s("span",{staticStyle:{cursor:"pointer","font-size":"medium"}},[e._v("\n          "+e._s(e.$t("msg.languageName"))),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.$i18n.messages,function(t,a){return s("el-dropdown-item",{key:a,attrs:{command:a,disabled:e.$i18n.locale==a}},[e._v(e._s(t.msg.languageName))])}),1)],1)],1)])]),s("router-view")],1)},n=[],o=(s("df7c"),{name:"app",methods:{changeLang:function(e){this.$i18n.locale=e}}}),r=o,l=(s("034f"),s("2877")),d=Object(l["a"])(r,i,n,!1,null,null,null),c=d.exports,p=s("8c4f"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticClass:"mycard"},[e.errorMsg?s("div",{staticStyle:{height:"310px",width:"100%",display:"table","text-align":"center"}},[s("p",{staticStyle:{display:"table-cell","vertical-align":"middle",color:"#F56C6C","font-size":"large"}},[s("i",{staticClass:"el-icon-warning",staticStyle:{"margin-right":"5px"}}),e.errorMsg.msg?s("span",[e._v(e._s(e.$t(e.errorMsg.msg)))]):s("span",[e._v(e._s(e.errorMsg))])])]):e.isChooseUpload?s("div",[s("el-progress",{staticStyle:{"margin-top":"20px"},attrs:{type:"circle","stroke-width":18,percentage:e.uploadPercentage,status:e.uploadStatus}}),s("div",{staticStyle:{height:"20px","line-height":"20px"}},[s("span",{staticStyle:{"font-size":"small"}},[e._v(e._s(e.speed))])]),e.share?s("div",{staticStyle:{"text-align":"left",position:"relative",height:"280px"}},[e.config?s("span",{staticStyle:{"font-size":"small"}},[s("humanReadableDuration",{attrs:{ttl:this.share.ttl}})],1):e._e(),s("div",{staticStyle:{margin:"20px 5px"}},[s("el-row",[e._v(e._s(e.$t("msg.uploaded.downloadLink")))]),s("el-input",{attrs:{value:e.address}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.address,expression:"address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],attrs:{slot:"append",type:"primary",size:"mini"},slot:"append"},[e._v(e._s(e.$t("msg.uploaded.copyLinkButton")))])],1),s("el-row",{staticStyle:{"font-size":"small"}},[s("i",{staticClass:"el-icon-warning",staticStyle:{"margin-right":"5px"}}),e._v(e._s(e.$t("msg.uploaded.tip")))])],1),s("div",{staticStyle:{position:"absolute",bottom:"0px","text-align":"center",width:"100%"}},[s("el-link",{attrs:{type:"primary",icon:"el-icon-s-home"},on:{click:e.backToHome}},[e._v(e._s(e.$t("msg.uploaded.backToHomeLink")))])],1)]):s("div",{staticStyle:{margin:"50px 5px"}},[s("span",[e._v(e._s(e.$t("msg.message.uploading")))])])],1):s("div",[s("div",{staticStyle:{"text-align":"left",width:"358px",margin:"auto"}},[s("el-upload",{staticStyle:{"text-align":"left","min-height":"310px"},attrs:{drag:"",action:"","show-file-list":!0,"auto-upload":!1,multiple:!0,"on-change":e.onChange}},[s("i",{staticClass:"el-icon-circle-plus",staticStyle:{"font-size":"67px",color:"#C0C4CC",margin:"40px 0 16px","line-height":"50px"}}),s("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("msg.upload.dragFile.1"))),s("em",[e._v(e._s(e.$t("msg.upload.dragFile.2")))])]),e.config?s("div",{staticClass:"el-upload__tip",staticStyle:{"text-align":"center"},attrs:{slot:"tip"},slot:"tip"},[e.config.share.maxFileSize.startsWith("-1")?s("span",[e._v(e._s(e.$t("msg.upload.tip.anySize")))]):s("span",[e._v(e._s(e.$t("msg.upload.tip.normal",{size:this.config.share.maxFileSize})))])]):e._e()]),s("el-row",{staticStyle:{"margin-top":"5px","line-height":"42px"}},["en-US"==e.$i18n.locale?s("span",{staticStyle:{color:"#606266"}},[e._v(e._s(e.$t("msg.upload.expire")))]):e._e(),e.config?s("el-select",{staticStyle:{width:"150px",margin:"0px 10px 0px 10px"},model:{value:e.ttl,callback:function(t){e.ttl=t},expression:"ttl"}},e._l(e.config.share.ttlOptions,function(t,a){return s("el-option",{key:a,attrs:{label:t.value.slice(0,t.value.length-1)+e.$t("msg.durationUnit."+t.value.charAt(t.value.length-1)),value:t.value}})}),1):e._e(),"zh-CN"==e.$i18n.locale?s("span",{staticStyle:{color:"#606266"}},[e._v(e._s(e.$t("msg.upload.expire")))]):e._e()],1),s("el-row",{staticStyle:{"margin-top":"5px","line-height":"42px"}},[s("el-checkbox",{model:{value:e.passwordEnabled,callback:function(t){e.passwordEnabled=t},expression:"passwordEnabled"}},[e._v(e._s(e.$t("msg.upload.enablePassword")))]),e.passwordEnabled?s("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{autofocus:"",type:e.showPassword?"text":"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s("i",{class:"el-input__icon iconfont "+(e.showPassword?"icon-eye-open":"icon-eye-close"),staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.showPassword=!e.showPassword}},slot:"suffix"})]):e._e()],1),s("el-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{type:"primary",icon:"el-icon-upload",disabled:null===e.fileList||0==e.fileList.length},on:{click:e.submitUpload}},[e._v(e._s(e.$t("msg.upload.uploadButton")))])],1)])]),s("transition",[e.uploadedList&&e.uploadedList.length>0?s("el-card",{staticClass:"mycard"},[s("transition-group",{attrs:{name:"list"}},e._l(e.uploadedList,function(t){return s("el-card",{key:t.id,staticStyle:{margin:"10px 0px"}},[s("files",{attrs:{share:t,"on-removed":e.shareRemoved}})],1)}),1)],1):e._e()],1)],1)},h=[],g=(s("ac4d"),s("8a81"),s("ac6a"),s("96cf"),s("3b8d")),f=s("bc3a"),m=s.n(f),v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.share.files,function(t,a){return s("el-row",{key:a},[s("div",{staticStyle:{display:"inline-block",float:"left"}},[s("el-tooltip",{attrs:{content:t.name,placement:"top"}},[s("el-link",{staticStyle:{"vertical-align":"middle","font-size":"large",margin:"0px"},attrs:{href:"/api/shares/"+e.share.id+"/"+t.name,icon:"el-icon-document"}},[s("div",{staticStyle:{"max-width":"340px","text-align":"left",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},[e._v(e._s(t.name))])])],1)],1),s("div",{staticStyle:{display:"inline-block",float:"right"}},[s("span",{staticStyle:{"vertical-align":"middle","font-size":"small"}},[e._v(e._s(e.humanReadableDataSize(t.size)))])])])}),s("div",{staticClass:"el-divider el-divider--horizontal",staticStyle:{margin:"10px 0px"}}),s("el-row",[s("div",{staticStyle:{display:"inline-block",float:"left","text-align":"left"}},[s("el-row",[s("span",{staticStyle:{"vertical-align":"middle","font-size":"small"}},[s("humanReadableDuration",{attrs:{ttl:this.share.ttl}})],1)])],1),s("div",{staticStyle:{display:"inline-block",float:"right"}},[s("el-tooltip",{attrs:{content:e.$t("msg.files.copyLink"),placement:"top"}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.address,expression:"address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopySuccess,expression:"onCopySuccess",arg:"success"}],attrs:{size:"mini",icon:"el-icon-document-copy"}})],1),e.share.password?s("el-tooltip",{attrs:{content:e.$t("msg.files.copyPassword"),placement:"top"}},[s("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.share.password,expression:"share.password",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopyPasswordSuccess,expression:"onCopyPasswordSuccess",arg:"success"}],attrs:{size:"mini",icon:"el-icon-key"}})],1):e._e(),e.share.token?s("el-tooltip",{attrs:{content:e.$t("msg.files.deleteFile"),placement:"top"}},[s("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",loading:e.deleteLoading},on:{click:e.deleteShare}})],1):e._e()],1)])],2)},y=[],w=(s("6b54"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return this.ttl?s("span",[e._v(e._s(e.$t("msg.expireTip.normal",{ttl:(0==e.duration.day?"":e.duration.day+e.$t("msg.durationUnit.day"))+(0==e.duration.hour?"":e.duration.hour+e.$t("msg.durationUnit.hour"))+e.duration.minute+e.$t("msg.durationUnit.minute")})))]):s("span",[e._v(e._s(e.$t("msg.expireTip.neverExpire")))])}),x=[],S=(s("c5f6"),{props:{ttl:{type:Number}},computed:{duration:function(){return this.getDuration(this.ttl)}},methods:{getDuration:function(e){var t={day:0,hour:0,minute:0};return e>864e5&&(t.day=parseInt(e/864e5),e%=864e5),e>36e5&&(t.hour=parseInt(e/36e5),e%=36e5),e>6e4&&(t.minute=parseInt(e/6e4)),t}}}),b=S,_=Object(l["a"])(b,w,x,!1,null,null,null),k=_.exports,$=s("5118"),C={props:{share:{type:Object},onRemoved:{type:Function,required:!0}},components:{humanReadableDuration:k},data:function(){return{address:window.location.href+("/"==this.$route.path?this.share.id:""),syncSharePolling:null,countdown:null,deleteLoading:!1}},created:function(){this.syncShare(),this.syncSharePolling=Object($["setInterval"])(this.syncShare,12e4)},destroyed:function(){Object($["clearInterval"])(this.syncSharePolling)},methods:{onCopySuccess:function(){this.$message.success(this.$t("msg.files.linkCopied"))},onCopyPasswordSuccess:function(){this.$message.success(this.$t("msg.files.passwordCopied"))},syncShare:function(){var e=this;this.countdown&&Object($["clearInterval"])(this.countdown),m.a.get("/api/shares/".concat(this.share.id)).then(function(t){e.share.ttl=t.data.ttl,e.share.files=t.data.files,e.share.ttl&&(e.countdown=Object($["setInterval"])(e.refreshTtl,1e4))}).catch(function(t){404==t.response.data.status?e.onRemoved(e.share):e.$message.error(t.response.data.message?t.response.data.message:t.toString())})},refreshTtl:function(){this.share.ttl-=1e4},deleteShare:function(){var e=this;this.deleteLoading=!0,this.$confirm(this.$t("msg.files.confirmDelete"),{type:"warning",confirmButtonText:this.$t("msg.files.okButton"),cancelButtonText:this.$t("msg.files.cancelButton")}).then(function(){m.a.delete("/api/shares/".concat(e.share.id),{headers:{token:e.share.token}}).then(function(){e.onRemoved(e.share)}).catch(function(t){e.$message.error(t.response.data.message?t.response.data.message:t.toString())}).finally(function(){e.deleteLoading=!1})}).catch(function(){e.deleteLoading=!1})},humanReadableDataSize:function(e){var t;return t=e>1099511627776?(e/1099511627776).toFixed(1)+"TB":e>1073741824?(e/1073741824).toFixed(1)+"GB":e>1048576?(e/1048576).toFixed(1)+"MB":e>1024?(e/1024).toFixed(1)+"KB":e.toFixed(0)+"Bytes",t}}},L=C,P=Object(l["a"])(L,v,y,!1,null,null,null),z=P.exports,F={components:{files:z,humanReadableDuration:k},data:function(){return{isChooseUpload:!1,share:null,uploadPercentage:0,uploadStatus:null,speed:null,lastLoaded:0,lastLoadTime:null,config:null,ttl:null,uploadedList:null,fileList:null,passwordEnabled:!1,password:null,showPassword:!1,errorMsg:null}},computed:{address:function(){return window.location.href+this.share.id}},created:function(){var e=Object(g["a"])(regeneratorRuntime.mark(function e(){var t,s,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$loading(),e.prev=1,e.next=4,m.a.get("/api/config").then(function(e){a.config=e.data;var t=!0,s=!1,i=void 0;try{for(var n,o=a.config.share.ttlOptions[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var r=n.value;r.defaultOption&&(a.ttl=r.value)}}catch(l){s=!0,i=l}finally{try{t||null==o.return||o.return()}finally{if(s)throw i}}a.ttl||(a.ttl=a.config.share.ttlOptions[0].value)}).catch(function(e){a.errorMsg=e.response.data.message||e});case 4:if(!this.errorMsg){e.next=6;break}return e.abrupt("return");case 6:return s=null==localStorage.getItem("uploaded")?[]:JSON.parse(localStorage.getItem("uploaded")),e.next=9,m.a.post("/api/shares/owner/authorize",s).then(function(){a.uploadedList=s}).catch(function(e){a.errorMsg={msg:"msg.upload.wrongToken"}});case 9:if(!this.errorMsg){e.next=11;break}return e.abrupt("return");case 11:return e.prev=11,t.close(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,,11,14]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{submitUpload:function(){var e=this,t=new FormData;t.append("ttl",this.ttl),this.passwordEnabled&&this.password&&t.append("password",this.password);var s=0,a=!0,i=!1,n=void 0;try{for(var o,r=this.fileList[Symbol.iterator]();!(a=(o=r.next()).done);a=!0){var l=o.value;s+=l.size,t.append("file",l.raw)}}catch(c){i=!0,n=c}finally{try{a||null==r.return||r.return()}finally{if(i)throw n}}var d=this.util.parseDataSize(this.config.share.maxFileSize);s<d?(m.a.post("/api/shares",t,{onUploadProgress:this.showProgress}).then(function(t){e.handleSuccess(t.data)}).catch(function(t){e.handleError(t)}),this.isChooseUpload=!0):this.$message.error(this.$t("msg.message.fileTooBig",{size:this.config.share.maxFileSize}))},onChange:function(e,t){this.fileList=t},handleSuccess:function(e){this.$message.success(this.$t("msg.message.uploadSuccess")),this.isSuccess=!0,this.share=e,this.uploadStatus="success",this.speed=null,this.uploadedList.unshift(this.share),this.save()},handleError:function(e){this.$message.error(this.$t("msg.message.uploadFail",{errMsg:e.response.data.message||e})),this.errorMsg=e.response.data.message||e,this.uploadStatus="exception"},showProgress:function(e){this.uploadPercentage=parseInt(100*e.loaded/e.total);var t=(new Date).getTime(),s=(t-this.lastLoadTime)/1e3;if(s>1){var a=e.loaded-this.lastLoaded;this.lastLoaded=e.loaded,this.lastLoadTime=t;var i=a/s;this.speed=i>1073741824?(i/1073741824).toFixed(1)+" GB/s":i>1048576?(i/1048576).toFixed(1)+" MB/s":i>1024?(i/1024).toFixed(1)+" KB/s":i.toFixed(0)+" B/s"}},onCopySuccess:function(){this.$message.success(this.$t("msg.message.linkCopied"))},backToHome:function(){this.isChooseUpload=!1,this.uploadStatus=null,this.uploadPercentage=0,this.share=null,this.fileList=null,this.passwordEnabled=!1,this.password=null},shareRemoved:function(e){for(var t=-1,s=0;s<this.uploadedList.length;s++){var a=this.uploadedList[s];if(a.id==e.id){t=s;break}}t>-1&&(this.uploadedList.splice(t,1),this.save())},save:function(){var e=JSON.parse(JSON.stringify(this.uploadedList)),t=!0,s=!1,a=void 0;try{for(var i,n=e[Symbol.iterator]();!(t=(i=n.next()).done);t=!0){var o=i.value;o.ttl=null}}catch(r){s=!0,a=r}finally{try{t||null==n.return||n.return()}finally{if(s)throw a}}localStorage.setItem("uploaded",JSON.stringify(e))}}},B=F,O=(s("41f3"),Object(l["a"])(B,u,h,!1,null,null,null)),T=O.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",{staticStyle:{width:"560px","min-height":"400px",display:"inline-block",margin:"10px"}},[s("div",{staticStyle:{"min-height":"344px"}},[e.share?s("div",{staticStyle:{height:"310px"}},[s("span",[e._v(e._s(e.$t("msg.download.title")))]),s("el-divider"),s("files",{staticStyle:{margin:"0px 50px 0px 50px"},attrs:{share:e.share,"on-removed":e.shareRemoved}})],1):e.needPassword?s("div",{staticStyle:{height:"310px"}},[s("el-row",{staticStyle:{height:"70px"}}),s("el-row",[s("span",[e._v(e._s(e.$t("msg.download.needPassword")))])]),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-input",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{autofocus:"",type:e.showPassword?"text":"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authorize(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[s("i",{class:"el-input__icon iconfont "+(e.showPassword?"icon-eye-open":"icon-eye-close"),staticStyle:{cursor:"pointer"},attrs:{slot:"suffix"},on:{click:function(t){e.showPassword=!e.showPassword}},slot:"suffix"})]),s("el-button",{attrs:{type:"primary"},on:{click:e.authorize}},[e._v(e._s(e.$t("msg.download.unlockButton")))])],1)],1):s("div",{staticStyle:{height:"310px",width:"100%",display:"table","text-align":"center"}},[s("p",{staticStyle:{"font-size":"large","vertical-align":"middle",display:"table-cell"}},[e._v(e._s(e.errorMsg))])]),s("div",{staticStyle:{"margin-top":"20px",width:"100%"}},[s("el-link",{attrs:{type:"primary"},on:{click:e.gotoUpload}},[e._v(e._s(e.$t("msg.download.gotoUploadLink")))])],1)])])],1)},U=[],E={components:{files:z},data:function(){return{share:null,errorMsg:null,needPassword:!1,password:null,showPassword:!1}},created:function(){this.getShare()},methods:{gotoUpload:function(){this.$router.push("/")},authorize:function(){var e=this;m.a.post("/api/shares/viewer/authorize",[{id:this.$route.params.shareId,password:this.password}]).then(function(){e.getShare()}).catch(function(t){401==t.response.data.status?e.$message.error(e.$t("msg.download.wrongPassword")):e.$message.error(t.response.data.message?t.response.data.message:t)})},getShare:function(){var e=this,t=this.$loading();m.a.get("/api/shares/".concat(this.$route.params.shareId),{}).then(function(t){e.share=t.data,e.needPassword=!1}).catch(function(t){401==t.response.data.status?e.needPassword=!0:e.errorMsg=t.response.data.message?t.response.data.message:t}).finally(function(){t.close()})},shareRemoved:function(){this.errorMsg=this.$t("msg.download.fileExpired"),this.needPassword=!1,this.share=null}}},D=E,j=Object(l["a"])(D,M,U,!1,null,null,null),I=j.exports;a["default"].use(p["a"]);var N=new p["a"]({routes:[{path:"/",component:T},{path:"/:shareId",component:I}]}),R=s("4eb5"),H=s.n(R),W=s("a925"),J=s("5c96"),K=s.n(J),G=(s("0fae"),s("aef6"),{parseDataSize:function(e){var t;return e.endsWith("TB")?t=1024*parseInt(e.slice(0,e.length-2).trim())*1024*1024*1024:e.endsWith("GB")?t=1024*parseInt(e.slice(0,e.length-2).trim())*1024*1024:e.endsWith("MB")?t=1024*parseInt(e.slice(0,e.length-2).trim())*1024:e.endsWith("KB")?t=1024*parseInt(e.slice(0,e.length-2).trim()):e.endsWith("B")&&(t=parseInt(e.slice(0,e.length-1).trim())),t}});s("ed2c");a["default"].use(W["a"]),a["default"].config.productionTip=!1,a["default"].use(K.a),a["default"].use(H.a),a["default"].prototype.util=G;var A=new W["a"]({locale:navigator.language||navigator.userLanguage,messages:{"zh-CN":s("9df6"),"en-US":s("3fab")}});new a["default"]({router:N,render:function(e){return e(c)},i18n:A}).$mount("#app")},"64a9":function(e,t,s){},"9df6":function(e,t,s){"use strict";s.r(t),s.d(t,"msg",function(){return a});var a={languageName:"中文",upload:{dragFile:{1:"将文件拖到此处，或",2:"点击添加文件"},tip:{normal:"可上传{size}以内的文件",anySize:"可上传任意大小的文件"},expire:"后过期",enablePassword:"密码保护",uploadButton:"上传",wrongToken:"Token验证错误"},uploaded:{downloadLink:"下载链接：",copyLinkButton:"复制链接",tip:"复制链接，粘贴到浏览器地址栏中，并打开页面",backToHomeLink:"再次上传"},message:{uploading:"正在上传，成功后生成下载链接。。。",uploadSuccess:"上传成功",uploadFail:"上传失败。{errMsg}",fileTooBig:"文件过大，不能超过{size}",linkCopied:"链接已复制"},expireTip:{normal:"文件将于{ttl}后过期",neverExpire:"文件永不过期"},durationUnit:{day:"天",hour:"小时",minute:"分钟",D:"天",H:"小时",M:"分钟"},download:{title:"文件（点击文件名下载）",needPassword:"文件已加密，请输入密码",unlockButton:"解锁",gotoUploadLink:"使用SendFile共享文件",fileExpired:"文件已过期",wrongPassword:"密码错误"},files:{copyLink:"复制链接",copyPassword:"复制密码",deleteFile:"删除文件",linkCopied:"链接已复制",passwordCopied:"密码已复制",confirmDelete:"确定删除文件共享？",okButton:"确定",cancelButton:"取消"}}},bd16:function(e,t,s){},ed2c:function(e,t,s){}});
//# sourceMappingURL=app.bd43c053.js.map